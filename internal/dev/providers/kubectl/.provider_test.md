<!-- source-hash: 8f0bc703300a471d3b7a10fa40c48fd3 -->
This file contains comprehensive unit tests for the kubectl provider functionality, testing kubectl operations like context management and cluster connectivity through a mocked command executor.

## Key Components

- **TestNewProvider** - Tests provider instantiation with mock executor
- **TestProvider_GetCurrentContext** - Tests retrieval of current kubectl context with various scenarios (success, whitespace handling, failures)
- **TestProvider_CheckConnection** - Tests cluster connectivity validation using `kubectl cluster-info`
- **TestProvider_SetContext** - Tests switching kubectl contexts with success and error cases

## Usage Example

```go
func TestKubectlProvider(t *testing.T) {
    testutil.InitializeTestMode()
    mockExecutor := testutil.NewTestMockExecutor()
    
    // Setup mock response for successful context retrieval
    mockExecutor.SetResponse("kubectl config current-context", &executor.CommandResult{
        ExitCode: 0,
        Stdout:   "k3d-openframe-dev\n",
    })
    
    provider := NewProvider(mockExecutor, false)
    context, err := provider.GetCurrentContext(context.Background())
    
    assert.NoError(t, err)
    assert.Equal(t, "k3d-openframe-dev", context)
}
```

The tests use table-driven testing patterns to cover multiple scenarios including successful operations, error conditions, and edge cases like whitespace handling and missing contexts.