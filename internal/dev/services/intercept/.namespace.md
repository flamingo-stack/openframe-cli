<!-- source-hash: 660f17eca83ef5007a3ce05df1adb779 -->
Provides namespace management functionality for Telepresence connections, handling namespace detection and switching operations within the intercept service.

## Key Components

**getCurrentNamespace(ctx, string, error)**
- Retrieves the current Telepresence namespace using JSON output parsing
- Returns "default" namespace as fallback when none is detected or on errors
- Uses `jq` command to extract namespace from Telepresence status JSON

**switchNamespace(ctx, current, target string) error**
- Switches Telepresence connection from current to target namespace
- Performs graceful disconnect followed by reconnection with new namespace
- Preserves traffic manager connection during the switch operation

## Usage Example

```go
// Get current namespace
namespace, err := service.getCurrentNamespace(ctx)
if err != nil {
    log.Printf("Error getting namespace: %v", err)
}
fmt.Printf("Current namespace: %s", namespace)

// Switch to production namespace
err = service.switchNamespace(ctx, "default", "production")
if err != nil {
    log.Printf("Failed to switch namespace: %v", err)
}
```

The namespace operations integrate with the Service's executor for running Telepresence commands and provide user feedback through pterm for status updates. The switching logic prioritizes connection stability by using disconnect/reconnect rather than full quit/restart cycles.