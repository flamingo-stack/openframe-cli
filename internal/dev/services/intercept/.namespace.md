<!-- source-hash: 660f17eca83ef5007a3ce05df1adb779 -->
This file provides namespace management functionality for Telepresence, allowing the service to detect the current namespace and switch between namespaces as needed.

## Key Components

- **`getCurrentNamespace(ctx)`** - Retrieves the current Telepresence namespace using `telepresence status` command and JSON parsing, defaulting to "default" if unavailable
- **`switchNamespace(ctx, current, target)`** - Switches Telepresence from the current namespace to a target namespace by disconnecting and reconnecting

## Usage Example

```go
// Get current namespace
currentNS, err := service.getCurrentNamespace(ctx)
if err != nil {
    log.Fatal(err)
}
fmt.Printf("Current namespace: %s\n", currentNS)

// Switch to different namespace
err = service.switchNamespace(ctx, currentNS, "staging")
if err != nil {
    log.Fatalf("Failed to switch namespace: %v", err)
}
```

The namespace switching preserves the traffic manager connection by using `disconnect`/`connect` instead of `quit`/`connect`, making transitions more efficient. Both functions handle error cases gracefully, with `getCurrentNamespace` falling back to "default" when namespace detection fails.