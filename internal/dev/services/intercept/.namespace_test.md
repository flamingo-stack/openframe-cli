<!-- source-hash: 27a0c55c3e55eff214b752ae1de06198 -->
Test suite for the intercept package namespace functionality, specifically testing namespace retrieval and switching operations for Telepresence connections.

## Key Components

- **TestService_GetCurrentNamespace**: Tests the `getCurrentNamespace` method with various scenarios including valid JSON responses, empty namespaces, and command failures
- **TestService_SwitchNamespace**: Tests the `switchNamespace` method covering successful switches, partial failures, and complete failures
- **TestTelepresenceStatus_JSONParsing**: Tests JSON unmarshaling of Telepresence status responses with various data structures
- **TelepresenceStatus**: Struct for parsing Telepresence status JSON responses

## Usage Example

```go
// Run the namespace tests
func ExampleNamespaceTests() {
    // Initialize test environment
    testutil.InitializeTestMode()
    mockExecutor := testutil.NewTestMockExecutor()
    service := NewService(mockExecutor, false)
    
    // Setup mock response for namespace retrieval
    mockExecutor.SetResponse("bash", &executor.CommandResult{
        ExitCode: 0,
        Stdout:   "production",
    })
    
    // Test namespace retrieval
    namespace, err := service.getCurrentNamespace(context.Background())
    // Result: namespace = "production", err = nil
    
    // Test namespace switching
    err = service.switchNamespace(context.Background(), "default", "production")
    // Executes: telepresence disconnect, telepresence connect --namespace production
}
```