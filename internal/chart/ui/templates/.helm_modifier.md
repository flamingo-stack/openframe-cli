<!-- source-hash: 04f239e56dbb0a7e420b9217a7a8f672 -->
This file provides a comprehensive utility for reading, modifying, and writing Helm values files, supporting different deployment modes (OSS, SaaS, SaaS Shared) and their specific configurations.

## Key Components

- **HelmValuesModifier**: Main struct that handles all Helm values file operations
- **LoadExistingValues/LoadOrCreateBaseValues**: Load values from files or create defaults
- **ApplyConfiguration**: Applies deployment mode, branch, Docker registry, and SaaS-specific settings
- **WriteValues**: Writes updated values back to YAML files
- **Getter Methods**: Extract current settings (branch, Docker config, deployment mode, ingress)
- **Configuration Helpers**: Internal methods for managing deployment sections and SaaS config

## Usage Example

```go
// Create a new Helm values modifier
modifier := NewHelmValuesModifier()

// Load existing values or create base configuration
values, err := modifier.LoadOrCreateBaseValues()
if err != nil {
    log.Fatal(err)
}

// Configure for SaaS deployment
config := &types.ChartConfiguration{
    DeploymentMode: &types.DeploymentModeSaaS,
    Branch: stringPtr("production"),
    DockerRegistry: &types.DockerRegistryConfig{
        Username: "myuser",
        Password: "mytoken",
        Email: "user@example.com",
    },
    SaaSConfig: &types.SaaSConfig{
        RepositoryPassword: "saas-token",
        SaaSBranch: "saas-main",
        OSSBranch: "oss-main",
    },
}

// Apply configuration changes
err = modifier.ApplyConfiguration(values, config)
if err != nil {
    log.Fatal(err)
}

// Write updated values to file
err = modifier.WriteValues(values, "helm-values.yaml")
if err != nil {
    log.Fatal(err)
}

// Get current deployment mode
mode := modifier.GetCurrentDeploymentMode(values)
fmt.Printf("Current deployment mode: %s\n", mode)
```