<!-- source-hash: ccf7aea70ca5df5489c22627aa045ba8 -->
This file provides ArgoCD application management functionality for monitoring and querying ArgoCD applications within a Kubernetes cluster.

## Key Components

**Manager**: Core struct that handles ArgoCD-specific operations using a command executor interface.

**Application**: Represents an ArgoCD application with its name, health status, and sync status.

**NewManager()**: Factory function that creates a new ArgoCD manager instance.

**getTotalExpectedApplications()**: Attempts to determine the total number of applications that will be created by trying multiple detection methods including querying app-of-apps status, helm values, and ApplicationSets.

**parseApplications()**: Retrieves all ArgoCD applications and their current status using kubectl commands with jsonpath queries.

## Usage Example

```go
// Create a new ArgoCD manager
executor := &executor.DefaultExecutor{}
manager := NewManager(executor)

// Get all applications and their status
ctx := context.Background()
apps, err := manager.parseApplications(ctx, true)
if err != nil {
    log.Fatal(err)
}

// Print application status
for _, app := range apps {
    fmt.Printf("App: %s, Health: %s, Sync: %s\n", 
        app.Name, app.Health, app.Sync)
}

// Get expected application count
config := config.ChartInstallConfig{Verbose: true}
totalExpected := manager.getTotalExpectedApplications(ctx, config)
fmt.Printf("Expected applications: %d\n", totalExpected)
```

The manager uses multiple fallback strategies to reliably detect applications even when ArgoCD is in transitional states or when applications are being created through sync waves.