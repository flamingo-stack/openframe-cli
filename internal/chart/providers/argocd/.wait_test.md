<!-- source-hash: 16a6352a9401b58c28609bc92781d59c -->
This test file contains unit tests for ArgoCD application waiting functionality, testing various scenarios including dry-run mode, context cancellation, and application health monitoring.

## Key Components

- **TestWaitForApplications_DryRun**: Tests that no kubectl commands are executed when dry-run mode is enabled
- **TestWaitForApplications_ContextCancellation**: Verifies proper handling of context cancellation and timeouts
- **TestWaitForApplications_AllAppsHealthy**: Tests successful completion when all applications reach healthy state (currently skipped)
- **TestWaitForApplications_ParseError**: Tests error handling scenarios (currently skipped)

## Usage Example

```go
// Test dry-run behavior
func TestWaitForApplications_DryRun(t *testing.T) {
    mockExec := executor.NewMockCommandExecutor()
    manager := NewManager(mockExec)
    
    config := config.ChartInstallConfig{
        DryRun: true,
    }
    
    err := manager.WaitForApplications(context.Background(), config)
    assert.NoError(t, err)
    assert.Equal(t, 0, mockExec.GetCommandCount())
}

// Test context cancellation
func TestContextCancellation(t *testing.T) {
    ctx, cancel := context.WithTimeout(context.Background(), 100*time.Millisecond)
    defer cancel()
    
    done := make(chan error)
    go func() {
        done <- manager.WaitForApplications(ctx, config)
    }()
    
    select {
    case err := <-done:
        assert.NoError(t, err)
    case <-time.After(35 * time.Second):
        t.Fatal("Function did not respect context cancellation")
    }
}
```