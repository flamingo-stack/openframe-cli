<!-- source-hash: 16a6352a9401b58c28609bc92781d59c -->
This file contains unit tests for the ArgoCD application waiting functionality, specifically testing the `WaitForApplications` method under various scenarios including dry-run mode, context cancellation, and application health monitoring.

## Key Components

- **TestWaitForApplications_DryRun**: Verifies that no kubectl commands are executed when dry-run mode is enabled
- **TestWaitForApplications_ContextCancellation**: Tests proper handling of context cancellation and timeout scenarios
- **TestWaitForApplications_AllAppsHealthy**: Tests successful completion when all applications reach healthy status (currently skipped)
- **TestWaitForApplications_ParseError**: Tests error handling during application status parsing (currently skipped)

## Usage Example

```go
// Run the dry-run test
func TestWaitForApplications_DryRun(t *testing.T) {
    mockExec := executor.NewMockCommandExecutor()
    manager := NewManager(mockExec)
    
    config := config.ChartInstallConfig{
        DryRun: true,
    }
    
    err := manager.WaitForApplications(context.Background(), config)
    assert.NoError(t, err)
    assert.Equal(t, 0, mockExec.GetCommandCount())
}

// Test with context cancellation
ctx, cancel := context.WithTimeout(context.Background(), 100*time.Millisecond)
defer cancel()

err := manager.WaitForApplications(ctx, config)
// Should handle cancellation gracefully
```

The tests use mock executors to simulate kubectl commands and verify proper behavior without requiring an actual ArgoCD installation.