<!-- source-hash: cdfa92c638d91863010dcfa3b126dda9 -->
Test file for the ArgoCD applications manager, covering application counting, parsing, and manager initialization functionality.

## Key Components

- **TestNewManager** - Tests manager initialization with command executor
- **TestGetTotalExpectedApplications** - Tests application counting logic with multiple fallback strategies
- **TestParseApplications** - Tests parsing of ArgoCD application status from kubectl output

## Usage Example

```go
// Test manager creation
func TestNewManager(t *testing.T) {
    mockExec := executor.NewMockCommandExecutor()
    manager := NewManager(mockExec)
    assert.NotNil(t, manager)
}

// Test application counting with mock responses
func TestApplicationCounting(t *testing.T) {
    mockExec := executor.NewMockCommandExecutor()
    mockExec.SetResponse("kubectl -n argocd get applications.argoproj.io", &executor.CommandResult{
        Stdout: "app1\napp2\napp3\n",
    })
    
    manager := NewManager(mockExec)
    count := manager.getTotalExpectedApplications(context.Background(), config)
    assert.Equal(t, 3, count)
}

// Test application status parsing
func TestApplicationParsing(t *testing.T) {
    mockExec := executor.NewMockCommandExecutor()
    mockExec.SetResponse("kubectl -n argocd get applications.argoproj.io", &executor.CommandResult{
        Stdout: "app1\tHealthy\tSynced\napp2\tProgressing\tSynced\n",
    })
    
    manager := NewManager(mockExec)
    apps, err := manager.parseApplications(context.Background(), false)
    assert.NoError(t, err)
    assert.Len(t, apps, 2)
}
```