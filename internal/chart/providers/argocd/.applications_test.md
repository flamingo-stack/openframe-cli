<!-- source-hash: cdfa92c638d91863010dcfa3b126dda9 -->
Test file for the ArgoCD applications manager that verifies application counting, parsing, and manager initialization functionality.

## Key Components

- **TestNewManager** - Tests the creation of a new ArgoCD Manager instance
- **TestGetTotalExpectedApplications** - Verifies application counting through multiple fallback methods (kubectl, helm values, ApplicationSets)
- **TestParseApplications** - Tests parsing of ArgoCD application status from kubectl output

## Usage Example

```go
func TestApplicationParsing(t *testing.T) {
    // Create mock executor
    mockExec := executor.NewMockCommandExecutor()
    
    // Set up mock response for kubectl command
    mockExec.SetResponse("kubectl -n argocd get applications.argoproj.io", &executor.CommandResult{
        Stdout: "app1\tHealthy\tSynced\napp2\tProgressing\tSynced\n",
    })
    
    // Create manager and parse applications
    manager := NewManager(mockExec)
    apps, err := manager.parseApplications(context.Background(), false)
    
    // Verify results
    assert.NoError(t, err)
    assert.Len(t, apps, 2)
    assert.Equal(t, "Healthy", apps[0].Health)
}
```

The tests use a mock command executor to simulate various kubectl and helm command responses, covering scenarios like successful application counting, fallback methods when primary commands fail, and parsing of application health/sync status.