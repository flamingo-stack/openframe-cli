<!-- source-hash: 699e3ee5c67a48f7f80386f780e0fd99 -->
Provides git repository operations for cloning and managing chart repositories with optimized shallow cloning and automatic cleanup.

## Key Components

- **Repository**: Main struct that handles git operations using a command executor
- **NewRepository()**: Constructor that creates a new repository handler with a command executor
- **CloneChartRepository()**: Clones a GitHub repository with depth 1 optimization and validates chart paths
- **Cleanup()**: Removes temporary directories with error handling
- **CloneResult**: Result type containing temporary directory and chart paths

## Usage Example

```go
// Create a new repository handler
exec := executor.NewCommandExecutor()
repo := git.NewRepository(exec)

// Configure the app repository
config := &models.AppOfAppsConfig{
    GitHubRepo:   "https://github.com/example/charts",
    GitHubBranch: "main",
    ChartPath:    "helm-charts/myapp",
}

// Clone the repository
ctx := context.Background()
result, err := repo.CloneChartRepository(ctx, config)
if err != nil {
    log.Fatalf("Failed to clone repository: %v", err)
}

// Use the cloned chart
fmt.Printf("Chart available at: %s\n", result.ChartPath)

// Always cleanup when done
defer repo.Cleanup(result.TempDir)
```

The repository handler uses shallow cloning (`--depth 1`, `--single-branch`, `--no-tags`) for performance optimization and includes comprehensive error handling for common issues like missing branches or invalid chart paths.