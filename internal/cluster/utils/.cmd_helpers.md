<!-- source-hash: c37bfa46d7ac735690b6980c85d2db8c -->
Provides utility functions for managing global command state and service creation across the OpenFrame CLI application, with special handling for testing scenarios and command execution flow.

## Key Components

- **`globalFlags`** - Thread-safe global flag container shared across all cluster commands
- **`InitGlobalFlags()`** - Initializes the global flag container with mutex protection
- **`GetCommandService()`** - Creates a cluster service with real or injected executors based on context
- **`GetSuppressedCommandService()`** - Creates a cluster service with UI suppression for automation scenarios
- **`WrapCommandWithCommonSetup()`** - Wraps command functions with error handling and setup logic
- **`SyncGlobalFlags()`** - Synchronizes global flags across all command flag instances
- **`ValidateGlobalFlags()`** - Validates the current global flag configuration
- **Test utilities** - Functions for setting test executors and managing test flag state

## Usage Example

```go
// Initialize global flags before command execution
InitGlobalFlags()

// Get a command service for business operations
service := GetCommandService()

// Wrap a command with common error handling
cmd.RunE = WrapCommandWithCommonSetup(func(cmd *cobra.Command, args []string) error {
    // Command implementation
    return service.CreateCluster(args[0])
})

// For testing, inject a mock executor
SetTestExecutor(mockExecutor)
service := GetCommandService() // Will use mock executor

// Validate flags before execution
if err := ValidateGlobalFlags(); err != nil {
    return err
}
```

The file centralizes command state management and provides consistent service creation patterns across the CLI, with robust error handling and testing support through dependency injection.