<!-- source-hash: 1ba729d3e7f90810d0838b31d866f6a9 -->
A comprehensive file cleanup and backup system for managing temporary files and modifications made by the OpenFrame CLI, with support for both memory-based and disk-based backups.

## Key Components

- **`FileCleanup`** - Main cleanup manager that tracks and restores file modifications
- **`FileBackup`** - Represents a single file backup operation with original content
- **`BackupFile()`** - Creates backups before file modification (memory or disk-based)
- **`RestoreFiles()`** - Restores all backed up files to their original state
- **`RegisterTempFile()`** - Tracks temporary files for cleanup without backup
- **`AddCLIMarkerToFile()`** - Adds generation markers to CLI-created files
- **`GetSafeFileName()`** - Creates timestamped temporary filenames

## Usage Example

```go
// Create cleanup manager
cleanup := NewFileCleanup()

// Backup existing file before modification
err := cleanup.BackupFile("config.yaml", false) // Use disk backup
if err != nil {
    log.Fatal(err)
}

// Register a temporary file we're creating
err = cleanup.RegisterTempFile("temp-script.sh")
if err != nil {
    log.Fatal(err)
}

// Modify files...
content := AddCLIMarkerToFile("temp-script.sh", scriptContent)
os.WriteFile("temp-script.sh", []byte(content), 0644)

// On success, clean up temporary files only
err = cleanup.RestoreFilesOnSuccess(true)

// On error/interrupt, restore everything
defer cleanup.RestoreFiles(true)
```

The system supports both memory-only backups for small files and disk-based backups for larger ones, with configurable cleanup behavior based on operation success or failure.