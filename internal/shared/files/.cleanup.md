<!-- source-hash: 1ba729d3e7f90810d0838b31d866f6a9 -->
This file provides a comprehensive file backup and cleanup system for CLI operations, allowing safe modification of files with automatic restoration capabilities.

## Key Components

**Types:**
- `FileBackup` - Represents a single file backup with metadata
- `FileCleanup` - Main manager for handling multiple file backups and restoration

**Core Functions:**
- `NewFileCleanup()` - Creates a new cleanup manager instance
- `BackupFile(filePath, useMemoryOnly)` - Creates backup before file modification
- `RestoreFiles(verbose)` - Restores all backed up files (for error scenarios)
- `RestoreFilesOnSuccess(verbose)` - Restores files after successful operations
- `RegisterTempFile(filePath)` - Registers temporary files for deletion
- `SetCleanupOnSuccessOnly(enabled)` - Configures cleanup behavior

**Utility Functions:**
- `AddCLIMarkerToFile()` - Adds generation markers to files
- `GetSafeFileName()` - Creates timestamped temporary filenames

## Usage Example

```go
// Create cleanup manager
cleanup := NewFileCleanup()

// Backup existing file before modification
err := cleanup.BackupFile("config.yaml", false)
if err != nil {
    return err
}

// Register new temporary file
cleanup.RegisterTempFile("temp-script.sh")

// Modify files...
// writeModifiedConfig("config.yaml")
// createTempScript("temp-script.sh")

// Restore on completion (success=true removes temp files)
cleanup.RestoreFilesOnSuccess(true)
```

The system supports both memory-only and file-based backups, handles interruption scenarios, and provides configurable cleanup policies for temporary files.