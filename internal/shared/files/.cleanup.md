<!-- source-hash: 1ba729d3e7f90810d0838b31d866f6a9 -->
Provides file backup, restoration, and cleanup functionality for CLI operations with support for both memory-based and disk-based backups. Handles temporary file management and adds generation markers to CLI-created files.

## Key Components

### Core Types
- **`FileBackup`** - Represents a file backup with original/backup paths and content
- **`FileCleanup`** - Main manager for backup/restore operations

### Primary Methods
- **`NewFileCleanup()`** - Creates a new cleanup manager
- **`BackupFile(filePath, useMemoryOnly)`** - Creates backup before modification
- **`RegisterTempFile(filePath)`** - Registers temporary files for cleanup
- **`RestoreFiles(verbose)`** - Restores all backed up files (for errors)
- **`RestoreFilesOnSuccess(verbose)`** - Cleanup after successful operations

### Utility Functions
- **`AddCLIMarkerToFile(filePath, content)`** - Adds generation markers to files
- **`GetSafeFileName(baseName)`** - Creates timestamped temporary filenames

## Usage Example

```go
// Create cleanup manager
cleanup := NewFileCleanup()

// Backup existing file before modification
err := cleanup.BackupFile("config.yaml", false) // Use disk backup
if err != nil {
    log.Fatal(err)
}

// Register a temporary file we're creating
cleanup.RegisterTempFile("temp-script.sh")

// Modify files...
content := AddCLIMarkerToFile("script.sh", scriptContent)

// On success, clean up temporary files
if operationSuccessful {
    cleanup.RestoreFilesOnSuccess(true)
} else {
    // On error, restore everything
    cleanup.RestoreFiles(true)
}
```