<!-- source-hash: 09c486a699d1bdb6139be0bd21e39ed2 -->
This file defines the core interfaces and base functionality for a command adapter pattern that wraps and extends Cobra CLI commands with additional features like flag management, validation, and metadata handling.

## Key Components

### Core Interfaces
- **`CommandHandler`** - Basic interface for command execution
- **`FlagsProvider`** - Interface for flag definition and management
- **`CommandAdapter`** - Combines both handler and flag provider functionality

### Base Implementation
- **`BaseCommandAdapter`** - Provides common functionality including flag extraction and validation
- **`FlagDefinition`** - Structure for defining command flags with metadata
- **`CommandMetadata`** - Contains command metadata like usage, description, and examples

### Error Types
- **`RequiredFlagError`** - Error for missing required flags
- **`InvalidFlagError`** - Error for invalid flag values

### Utility Types
- **`ExampleBuilder`** - Helper for building formatted command examples
- **`PreRunEChain`** - Allows chaining multiple pre-run validation functions

## Usage Example

```go
// Create a custom command adapter
type MyCommandAdapter struct {
    *BaseCommandAdapter
}

func NewMyCommandAdapter() *MyCommandAdapter {
    return &MyCommandAdapter{
        BaseCommandAdapter: NewBaseCommandAdapter(),
    }
}

// Implement CommandHandler interface
func (m *MyCommandAdapter) Execute(cmd *cobra.Command, args []string) error {
    flags := m.ExtractFlags(cmd)
    values := flags.GetAllValues()
    
    // Validate required flags
    result := m.ValidateRequired(values)
    if result.HasErrors() {
        return result.Errors()[0]
    }
    
    // Command implementation here
    return nil
}

// Implement FlagsProvider interface
func (m *MyCommandAdapter) GetFlagDefinitions() []FlagDefinition {
    return []FlagDefinition{
        {Name: "output", Shorthand: "o", DefaultValue: "", Usage: "Output file", Required: true},
        {Name: "verbose", Shorthand: "v", DefaultValue: false, Usage: "Verbose output"},
    }
}

func (m *MyCommandAdapter) AddFlags(cmd *cobra.Command) {
    cmd.Flags().StringP("output", "o", "", "Output file")
    cmd.Flags().BoolP("verbose", "v", false, "Verbose output")
}
```