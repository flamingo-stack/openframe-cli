<!-- source-hash: 8361fce1efa2cd457ee8a67925ea2da6 -->
This file contains comprehensive unit tests and benchmarks for the MockCommandExecutor, which is used to simulate command execution behavior in tests.

## Key Components

The test file validates all aspects of the MockCommandExecutor:

- **Core functionality**: `NewMockCommandExecutor`, `Execute`, `ExecuteWithOptions`
- **Response configuration**: `SetResponse`, `SetDefaultResult`, `SetShouldFail`
- **State inspection**: `GetExecutedCommands`, `GetCommandCount`, `WasCommandExecuted`, `GetLastCommand`
- **Utility methods**: `Reset` for cleanup
- **Pattern matching**: Commands are matched using substring matching
- **Interface compliance**: Validates that MockCommandExecutor implements CommandExecutor

## Usage Example

The tests demonstrate typical usage patterns:

```go
// Basic setup and execution
mockExec := NewMockCommandExecutor()

// Configure specific responses
expectedResult := &CommandResult{
    ExitCode: 0,
    Stdout:   "hello world",
    Duration: 100 * time.Millisecond,
}
mockExec.SetResponse("echo hello world", expectedResult)

// Execute and verify
result, err := mockExec.Execute(ctx, "echo", "hello", "world")

// Configure failure scenarios
mockExec.SetShouldFail(true, "mock failure")

// Inspect execution history
commands := mockExec.GetExecutedCommands()
wasExecuted := mockExec.WasCommandExecuted("kubectl")
```

The tests also cover edge cases like concurrent access, zero-value results, and benchmark performance characteristics.