<!-- source-hash: ddbb92eceee76fa630038a0a155a2b9f -->
This file contains comprehensive unit tests for a command-line flag management system built with the Cobra CLI framework. It validates the functionality of common flags like verbose, dry-run, and force across various scenarios and edge cases.

## Key Components

- **CommonFlags Tests**: Validates default values and field assignment for the flags struct
- **FlagManager Tests**: Tests the creation and functionality of the flag manager including:
  - `NewFlagManager()` - Constructor validation
  - `AddCommonFlags()` - Flag registration with Cobra commands
  - Integration tests with command execution
  - Short flag support (`-v`, `-f`)
- **ValidateCommonFlags Tests**: Ensures flag validation works across different combinations
- **GetFlagDescription Tests**: Verifies flag description retrieval with edge cases
- **Edge Case Tests**: Handles nil values, multiple commands, and conflicting flags
- **Benchmark Tests**: Performance testing for core functions

## Usage Example

```go
// Example test structure showing how the flags system works
func TestExample(t *testing.T) {
    globalFlags := &CommonFlags{}
    manager := NewFlagManager(globalFlags)
    
    cmd := &cobra.Command{
        Use: "mycommand",
        Run: func(cmd *cobra.Command, args []string) {},
    }
    
    manager.AddCommonFlags(cmd)
    cmd.SetArgs([]string{"--verbose", "--force"})
    err := cmd.Execute()
    
    assert.NoError(t, err)
    assert.True(t, globalFlags.Verbose)
    assert.True(t, globalFlags.Force)
}
```

The test suite provides 100% coverage of flag management functionality including error handling, validation, and performance benchmarking.